# (16)VPC内にEC2を立ち上げる 

## 本章の目的：

- 前章で構築したVPC内にサーバインスタンスを立ち上げる。
- クライアントPCからVPC内のサーバインスタンスに接続する。

***

＜図１：EC２ダッシュボード＞

インスタンスの作成ボタンをクリック、かつAWSMarketPlaceにてCentOS7で検索。

＜図２：CentOS7を選択＞

CentOS 7 (x86_64) - with Updates HVMを選択。

＜図３：詳細表示＞

確認後、「continue」ボタンをクリック。

＜図４：タイプを選択＞

「次の手順」をクリック。

＜図５：インスタンス詳細の設定＞

基本的に「見つからない」的なメッセージは出ません。「確認と作成」ボタンをクリック。

＜図６：インスタンス作成の確認＞

次へ進む

＜図７：キーペアの選択＞

キーペアを選択。ここでは新たにキーペアを作成するが、既存のものを選択しても構わない。

＜図８：新たにキーペア作成と同時にダウンロード＞

数分待って、EC2のサービス画面へ遷移するとできている。

＜図９：インスタンス作成完了＞

「接続」ボタンを押下。

＜図10：接続情報表示＞

rootと表示されているが、centosで入れと言われる。

```
hondaminori:~ hondaminori$ ssh -i "tech-boost_instance1insub1.pem" centos@ec2-13-230-32-19.ap-northeast-1.compute.amazonaws.com
The authenticity of host 'ec2-13-230-32-19.ap-northeast-1.compute.amazonaws.com (13.230.32.19)' can't be established.
ECDSA key fingerprint is SHA256:arfwpWAyoZpunJesxILZ+uTpf9wtIzTK0qHZlZ5+4es.
Are you sure you want to continue connecting (yes/no)? 
```

yesと入力。

```
[centos@ip-10-0-1-24 ~]$ 
```

AmazonLinuxを選択すると、AA(アスキーアート)でEC2!と表示されますが、CentOSでは素っ気無いですね。でも、表示がcentos@〜と変っていますね。

続けて各種アップデートをしましょう。

yumでupdate

```
sudo yum update -y
```

mysqlをセットアップします。

```
sudo yum install -y mysql
```

これでOKです。

Webサーバであるnginxやセキュリティグループの見直しは、これから徐々に進めます。とりあえずは最低限の設定が終わったことに喜びを感じ、ひとまず終わりにしましょう。

### まとめ

次章では、セキュリティ等々の見直しをします。さらに実務的な内容になります。ガンバってついてきてくださいね！


